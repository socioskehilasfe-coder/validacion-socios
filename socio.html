<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

const SHEET_URL = "https://opensheet.elk.sh/132gab3uRyy7_DnkFoyCNbBnoxXDu6gbXiIDr5LTe4nA/SOCIOS";

fetch(SHEET_URL)
  .then(res => res.json())
  .then(data => {
    console.log(data); // <-- ayuda a debug

    const socio = data.find(s => s.ID_SOCIO?.trim() === id?.trim());

    if (!socio) {
      document.body.innerHTML = "<h2>Socio no encontrado</h2>";
      return;
    }

    document.getElementById("nombre").textContent = socio.NOMBRE;
    document.getElementById("apellido").textContent = socio.APELLIDO;
    document.getElementById("dni").textContent = socio.DNI;

    const estado = document.getElementById("estado");

    if (socio.ACTIVO.toUpperCase() === "SI") {
      estado.textContent = "SOCIO ACTIVO";
      estado.className = "activo";
    } else {
      estado.textContent = "SOCIO INACTIVO â€“ SOLICITAR DNI";
      estado.className = "inactivo";
    }
  })
  .catch(err => {
    document.body.innerHTML = "<h2>Error al cargar datos</h2>";
    console.error(err);
  });
</script>
